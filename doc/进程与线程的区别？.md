## 进程与线程的区别？

1. 进程是资源分配的基本单位。线程是cpu调度的最小单位，或者说是程序执行的最小单位。

2. 进程有独立的地址空间，而同一进程中的线程共享同一个进程的地址空间。比如在linux下面启动一个新的进程，系统必须分配给它独立的地址空间，建立众多的数据表来维护它的代码段、堆栈段和数据段，这是一种非常昂贵的多任务工作方式。而运行一个进程中的线程，它们之间共享大部分数据，使用相同的地址空间，因此启动一个线程，切换一个线程远比进程操作要快，花费也要小得多。当然，线程是拥有自己的寄存器和堆栈（线程栈），比如在windows中用_beginthreadex创建一个新进程就会在调用CreateThread的同时申请一个专属于线程的数据块（_tiddata)。线程有自己线程栈，线程可以直接访问全局变量，甚至可以访问进程地址空间中的每一个内存，所以一个线程可以读写甚至清除另一个线程的堆栈。

3. 线程之间的通信比较方便。统一进程下的线程共享数据（比如全局变量，静态变量，打开的文件描述符），通过这些数据来通信不仅快捷而且方便，当然如何处理好共享资源的同步与互斥正是编写多线程程序的难点之一。而进程之间的通信需要通过单独的进程间通信的方式进行。在一个线程中分配的堆在各个线程中均可以使用，在一个线程中打开的文件各个线程均可用，当然指同一进程中的线程。

4. 多进程程序比多线程程序要健壮。对于多线程程序，一个线程崩溃(比如访问越界导致core dump)会导致整个进程挂掉，如果只有一个进程在提供服务，那么无法对外提供服务。而多进程之前不会相互影响，一个进程死掉对另一个进程没有直接影响，一个进程崩溃后其他的进程仍然可以继续提供服务。

5. 线程的执行与进程是有区别的。每个独立的线程有有自己的一个程序入口，顺序执行序列和程序的出口，但是线程不能独立执行，必须依附与程序之中，由应用程序提供多个线程的并发控制。

6. linux中进程具有父子关系，形成进程树，但是线程是平等的没有父子关系。